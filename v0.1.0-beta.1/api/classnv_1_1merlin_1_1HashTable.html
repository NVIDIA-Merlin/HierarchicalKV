<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Template Class HashTable &mdash; Merlin Key-Value Storage  documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/banner.css" type="text/css" />
    <link rel="canonical" href="https://nvidia-merlin.github.io/HierarchicalKV/master/api/classnv_1_1merlin_1_1HashTable.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script >let toggleHintShow = 'Click to show';</script>
        <script >let toggleHintHide = 'Click to hide';</script>
        <script >let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Enum EvictStrategy" href="enum_merlin__hashtable_8cuh_1a8c9f1dcaae52c7049c17f0999ad62015.html" />
    <link rel="prev" title="Struct HashTableOptions" href="structnv_1_1merlin_1_1HashTableOptions.html" /> 
</head>

<body class="wy-body-for-nav">
  <div class="banner">
    <p class="banner">
      Beginning in January 2023, versions for all NVIDIA Merlin projects
      will change from semantic versioning like <code>4.0</code>
      to calendar versioning like <code>23.01</code>.</p>
  </div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Merlin Key-Value Storage
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#complete-hierarchicalkv-api">Complete HierarchicalKV API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing to HierarchicalKV</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Merlin Key-Value Storage</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">HierarchicalKV C++ API Documentation</a></li>
      <li class="breadcrumb-item active">Template Class HashTable</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="template-class-hashtable">
<span id="exhale-class-classnv-1-1merlin-1-1hashtable"></span><h1>Template Class HashTable<a class="headerlink" href="#template-class-hashtable" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_merlin_hashtable.cuh.html#file-merlin-hashtable-cuh"><span class="std std-ref">File merlin_hashtable.cuh</span></a></p></li>
</ul>
<div class="section" id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline"></a></h2>
<dl class="cpp class">
<dt id="_CPPv4I000EN2nv6merlin9HashTableE">
<span id="_CPPv3I000EN2nv6merlin9HashTableE"></span><span id="_CPPv2I000EN2nv6merlin9HashTableE"></span><span class="pre">template&lt;</span><span class="pre">class</span> <code class="sig-name descname"><span class="pre">K</span></code><span class="pre">,</span> <span class="pre">class</span> <code class="sig-name descname"><span class="pre">V</span></code><span class="pre">,</span> <span class="pre">class</span> <code class="sig-name descname"><span class="pre">M</span></code> <span class="pre">=</span> <span class="pre">uint64_t</span><span class="pre">&gt;</span><br /><span class="target" id="classnv_1_1merlin_1_1HashTable"></span><em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">nv</span><span class="pre">::</span><span class="pre">merlin</span><code class="sig-prename descclassname"><span class="pre">::</span></code></code><code class="sig-name descname"><span class="pre">HashTable</span></code><a class="headerlink" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="Permalink to this definition"></a><br /></dt>
<dd><p>A HierarchicalKV hash table is a concurrent and hierarchical hash table that is powered by GPUs and can use HBM and host memory as storage for key-value pairs. Support for SSD storage is a future consideration.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> is introduced to define the importance of each key, the larger, the more important, the less likely they will be evicted. Eviction occurs automatically when a bucket is full. The keys with the minimum <code class="docutils literal notranslate"><span class="pre">meta</span></code> value are evicted first. In a customized eviction strategy, we recommend using the timestamp or frequency of the key occurrence as the <code class="docutils literal notranslate"><span class="pre">meta</span></code> value for each key. You can also assign a special value to the <code class="docutils literal notranslate"><span class="pre">meta</span></code> to perform a customized eviction strategy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default configuration, this class is thread-safe.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> – The data type of the key. </p></li>
<li><p><strong>V</strong> – The data type of the vector’s item type. The item data type should be a basic data type of C++/CUDA. </p></li>
<li><p><strong>M</strong> – The data type for <code class="docutils literal notranslate"><span class="pre">meta</span></code>. The currently supported data type is only <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code>. </p></li>
</ul>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N2nv6merlin9HashTable9size_typeE">
<span id="_CPPv3N2nv6merlin9HashTable9size_typeE"></span><span id="_CPPv2N2nv6merlin9HashTable9size_typeE"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1ad4000190a6308cfa36b41858ebe093c4"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">size_type</span></code> <span class="pre">=</span> <span class="pre">size_t</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N2nv6merlin9HashTable8key_typeE">
<span id="_CPPv3N2nv6merlin9HashTable8key_typeE"></span><span id="_CPPv2N2nv6merlin9HashTable8key_typeE"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a4fa81ed2d5721b5f944235f88d1365c9"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">key_type</span></code> <span class="pre">=</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::K"><span class="pre">K</span></a><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N2nv6merlin9HashTable10value_typeE">
<span id="_CPPv3N2nv6merlin9HashTable10value_typeE"></span><span id="_CPPv2N2nv6merlin9HashTable10value_typeE"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a61dffd0112d5658664d75c080f0e20a6"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">value_type</span></code> <span class="pre">=</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::V"><span class="pre">V</span></a><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N2nv6merlin9HashTable9meta_typeE">
<span id="_CPPv3N2nv6merlin9HashTable9meta_typeE"></span><span id="_CPPv2N2nv6merlin9HashTable9meta_typeE"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a8abee844427e7cfe04745f3077054bf2"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">meta_type</span></code> <span class="pre">=</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::M"><span class="pre">M</span></a><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N2nv6merlin9HashTable4PredE">
<span id="_CPPv3N2nv6merlin9HashTable4PredE"></span><span id="_CPPv2N2nv6merlin9HashTable4PredE"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1aa20078c7ab948931a50783766c5dec71"></span><em class="property"><span class="pre">using</span> </em><code class="sig-name descname"><span class="pre">Pred</span></code> <span class="pre">=</span> <a class="reference internal" href="typedef_merlin__hashtable_8cuh_1a20afe66b4f5d4690391f7ef8845223e5.html#_CPPv4I00EN2nv6merlin14EraseIfPredictE" title="nv::merlin::EraseIfPredict"><span class="pre">EraseIfPredict</span></a><span class="pre">&lt;</span><a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a><span class="pre">&gt;</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable4PredE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable9HashTableEv">
<span id="_CPPv3N2nv6merlin9HashTable9HashTableEv"></span><span id="_CPPv2N2nv6merlin9HashTable9HashTableEv"></span><span id="nv::merlin::HashTable::HashTable"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a89ca7a912ffe836e7da4b433ffd7b14c"></span><em class="property"><span class="pre">inline</span></em> <code class="sig-name descname"><span class="pre">HashTable</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable9HashTableEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default constructor for the hash table class. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTableD0Ev">
<span id="_CPPv3N2nv6merlin9HashTableD0Ev"></span><span id="_CPPv2N2nv6merlin9HashTableD0Ev"></span><span id="nv::merlin::HashTable::~HashTable"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a10bca3da052b1fcef747743dd51dfd49"></span><em class="property"><span class="pre">inline</span></em> <code class="sig-name descname"><span class="pre">~HashTable</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTableD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Frees the resources used by the hash table and destroys the hash table object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable4initEK16HashTableOptions">
<span id="_CPPv3N2nv6merlin9HashTable4initEK16HashTableOptions"></span><span id="_CPPv2N2nv6merlin9HashTable4initEK16HashTableOptions"></span><span id="nv::merlin::HashTable::init__HashTableOptionsC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a6f84ce6d43691cb3f96546a67507a86e"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">init</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="structnv_1_1merlin_1_1HashTableOptions.html#_CPPv4N2nv6merlin16HashTableOptionsE" title="nv::merlin::HashTableOptions"><span class="pre">HashTableOptions</span></a> <em><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable4initEK16HashTableOptions" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize a <a class="reference internal" href="#classnv_1_1merlin_1_1HashTable"><span class="std std-ref">merlin::HashTable</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>options</strong> – The configuration options. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable16insert_or_assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_tb">
<span id="_CPPv3N2nv6merlin9HashTable16insert_or_assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_tb"></span><span id="_CPPv2N2nv6merlin9HashTable16insert_or_assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_tb"></span><span id="nv::merlin::HashTable::insert_or_assign__size_typeC.key_typeCP.value_typeCP.meta_typeCP.cudaStream_t.b"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1aa47fe87d4e088a3c9329c263dfce6f91"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">insert_or_assign</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span>, <span class="pre">bool</span> <em><span class="pre">ignore_evict_strategy</span></em> <span class="pre">=</span> <span class="pre">false</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable16insert_or_assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_tb" title="Permalink to this definition"></a><br /></dt>
<dd><p>Insert new key-value-meta tuples into the hash table. If the key already exists, the values and metas are assigned new values. </p>
<p>If the target bucket is full, the keys with minimum meta will be overwritten by new key unless the meta of the new key is even less than minimum meta of the target bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – Number of key-value-meta tuples to insert or assign. </p></li>
<li><p><strong>keys</strong> – The keys to insert on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to insert on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to insert on GPU-accessible memory with shape (n). <p>The metas should be a <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value. You can specify a value that such as the timestamp of the key insertion, number of the key occurrences, or another value to perform a custom eviction strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">metas</span></code> should be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, when the LRU eviction strategy is applied. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
<li><p><strong>ignore_evict_strategy</strong> – A boolean option indicating whether if the insert_or_assign ignores the evict strategy of table with current metas anyway. If true, it does not check whether the metas conforms to the evict strategy. If false, it requires the metas follow the evict strategy of table. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable16insert_and_evictEK9size_typePK8key_typePK10value_typePK9meta_typeP8key_typeP10value_typeP9meta_type12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable16insert_and_evictEK9size_typePK8key_typePK10value_typePK9meta_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable16insert_and_evictEK9size_typePK8key_typePK10value_typePK9meta_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::insert_and_evict__size_typeC.key_typeCP.value_typeCP.meta_typeCP.key_typeP.value_typeP.meta_typeP.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a6b0ff0eaceed3903aec5152b6ba8c4e6"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">insert_and_evict</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">evicted_keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">evicted_values</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">evicted_metas</span></em>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable16insert_and_evictEK9size_typePK8key_typePK10value_typePK9meta_typeP8key_typeP10value_typeP9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Insert new key-value-meta tuples into the hash table. If the key already exists, the values and metas are assigned new values. </p>
<p>If the target bucket is full, the keys with minimum meta will be overwritten by new key unless the meta of the new key is even less than minimum meta of the target bucket. The overwritten key with minimum meta will be evicted, with its values and meta, to evicted_keys, evicted_values, evcted_metas seperately in compact format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – Number of key-value-meta tuples to insert or assign. </p></li>
<li><p><strong>keys</strong> – The keys to insert on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to insert on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to insert on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>metas</strong> – The metas to insert on GPU-accessible memory with shape (n). &#64;params evicted_keys The output of keys replaced with minimum meta. &#64;params evicted_values The output of values replaced with minimum meta on keys. &#64;params evicted_metas The output of metas replaced with minimum meta on keys. <p>The metas should be a <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value. You can specify a value that such as the timestamp of the key insertion, number of the key occurrences, or another value to perform a custom eviction strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">metas</span></code> should be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, when the LRU eviction strategy is applied. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
<li><p><strong>ignore_evict_strategy</strong> – A boolean option indicating whether if the insert_or_assign ignores the evict strategy of table with current metas anyway. If true, it does not check whether the metas confroms to the evict strategy. If false, it requires the metas follow the evict strategy of table. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable15accum_or_assignEK9size_typePK8key_typePK10value_typePKbPK9meta_type12cudaStream_tb">
<span id="_CPPv3N2nv6merlin9HashTable15accum_or_assignEK9size_typePK8key_typePK10value_typePKbPK9meta_type12cudaStream_tb"></span><span id="_CPPv2N2nv6merlin9HashTable15accum_or_assignEK9size_typePK8key_typePK10value_typePKbPK9meta_type12cudaStream_tb"></span><span id="nv::merlin::HashTable::accum_or_assign__size_typeC.key_typeCP.value_typeCP.bCP.meta_typeCP.cudaStream_t.b"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a103a00220b65415450f13b479a0f7b68"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">accum_or_assign</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">value_or_deltas</span></em>, <em class="property"><span class="pre">const</span></em> <span class="pre">bool</span> <span class="pre">*</span><em><span class="pre">accum_or_assigns</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span>, <span class="pre">bool</span> <em><span class="pre">ignore_evict_strategy</span></em> <span class="pre">=</span> <span class="pre">false</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable15accum_or_assignEK9size_typePK8key_typePK10value_typePKbPK9meta_type12cudaStream_tb" title="Permalink to this definition"></a><br /></dt>
<dd><p>Searches for each key in <code class="docutils literal notranslate"><span class="pre">keys</span></code> in the hash table. If the key is found and the corresponding value in <code class="docutils literal notranslate"><span class="pre">accum_or_assigns</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">vectors_or_deltas</span></code> is treated as a delta to the old value, and the delta is added to the old value of the key.</p>
<p>If the key is not found and the corresponding value in <code class="docutils literal notranslate"><span class="pre">accum_or_assigns</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, the <code class="docutils literal notranslate"><span class="pre">vectors_or_deltas</span></code> is treated as a new value and the key-value pair is updated in the table directly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the key is found and the value of <code class="docutils literal notranslate"><span class="pre">accum_or_assigns</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, or when the key is not found and the value of <code class="docutils literal notranslate"><span class="pre">accum_or_assigns</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, nothing is changed and this operation is ignored. The algorithm assumes these situations occur while the key was modified or removed by other processes just now.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The number of key-value-meta tuples to process. </p></li>
<li><p><strong>keys</strong> – The keys to insert on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>value_or_deltas</strong> – The values or deltas to insert on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>accum_or_assigns</strong> – The operation type with shape (n). A value of <code class="docutils literal notranslate"><span class="pre">true</span></code> indicates to accum and <code class="docutils literal notranslate"><span class="pre">false</span></code> indicates to assign. </p></li>
<li><p><strong>metas</strong> – The metas to insert on GPU-accessible memory with shape (n). <p>The metas should be a <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value. You can specify a value that such as the timestamp of the key insertion, number of the key occurrences, or another value to perform a custom eviction strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">metas</span></code> should be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, when the LRU eviction strategy is applied. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
<li><p><strong>ignore_evict_strategy</strong> – A boolean option indicating whether if the accum_or_assign ignores the evict strategy of table with current metas anyway. If true, it does not check whether the metas confroms to the evict strategy. If false, it requires the metas follow the evict strategy of table. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable14find_or_insertEK9size_typePK8key_typeP10value_typeP9meta_type12cudaStream_tb">
<span id="_CPPv3N2nv6merlin9HashTable14find_or_insertEK9size_typePK8key_typeP10value_typeP9meta_type12cudaStream_tb"></span><span id="_CPPv2N2nv6merlin9HashTable14find_or_insertEK9size_typePK8key_typeP10value_typeP9meta_type12cudaStream_tb"></span><span id="nv::merlin::HashTable::find_or_insert__size_typeC.key_typeCP.value_typeP.meta_typeP.cudaStream_t.b"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a0a5d50b057586720f464913671d2b8a7"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">find_or_insert</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span>, <span class="pre">bool</span> <em><span class="pre">ignore_evict_strategy</span></em> <span class="pre">=</span> <span class="pre">false</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable14find_or_insertEK9size_typePK8key_typeP10value_typeP9meta_type12cudaStream_tb" title="Permalink to this definition"></a><br /></dt>
<dd><p>Searches the hash table for the specified keys. When a key is missing, the value in <code class="docutils literal notranslate"><span class="pre">values</span></code> and <code class="docutils literal notranslate"><span class="pre">metas</span></code> will be inserted. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The number of key-value-meta tuples to search or insert. </p></li>
<li><p><strong>keys</strong> – The keys to search on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to search on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to search on GPU-accessible memory with shape (n). <p>If <code class="docutils literal notranslate"><span class="pre">metas</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, the meta for each key will not be returned. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable6assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable6assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable6assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::assign__size_typeC.key_typeCP.value_typeCP.meta_typeCP.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a19e4c22f1b51ba6cfd85b91f2068b071"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">assign</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable6assignEK9size_typePK8key_typePK10value_typePK9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Assign new key-value-meta tuples into the hash table. If the key doesn’t exist, the operation on the key will be ignored. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – Number of key-value-meta tuples to insert or assign. </p></li>
<li><p><strong>keys</strong> – The keys to insert on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to insert on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to insert on GPU-accessible memory with shape (n). <p>The metas should be a <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value. You can specify a value that such as the timestamp of the key insertion, number of the key occurrences, or another value to perform a custom eviction strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">metas</span></code> should be <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, when the LRU eviction strategy is applied. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable4findEK9size_typePK8key_typeP10value_typePbP9meta_type12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable4findEK9size_typePK8key_typeP10value_typePbP9meta_type12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable4findEK9size_typePK8key_typeP10value_typePbP9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::find__size_typeC.key_typeCP.value_typeP.bP.meta_typeP.cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1ab6d23abdde9e1b32dd0b745f3db4a9eb"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">find</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <span class="pre">bool</span> <span class="pre">*</span><em><span class="pre">founds</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable4findEK9size_typePK8key_typeP10value_typePbP9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Searches the hash table for the specified keys. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a key is missing, the value in <code class="docutils literal notranslate"><span class="pre">values</span></code> is not changed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The number of key-value-meta tuples to search. </p></li>
<li><p><strong>keys</strong> – The keys to search on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to search on GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>founds</strong> – The status that indicates if the keys are found on GPU-accessible memory with shape (n). </p></li>
<li><p><strong>metas</strong> – The metas to search on GPU-accessible memory with shape (n). <p>If <code class="docutils literal notranslate"><span class="pre">metas</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, the meta for each key will not be returned. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable5eraseEK9size_typePK8key_type12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable5eraseEK9size_typePK8key_type12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable5eraseEK9size_typePK8key_type12cudaStream_t"></span><span id="nv::merlin::HashTable::erase__size_typeC.key_typeCP.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a3711b9f17e5543f5681c45ef3b1a5e9f"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">erase</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable5eraseEK9size_typePK8key_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Removes specified elements from the hash table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The number of keys to remove. </p></li>
<li><p><strong>keys</strong> – The keys to remove on GPU-accessible memory. </p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable8erase_ifERK4PredRK8key_typeRK9meta_type12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable8erase_ifERK4PredRK8key_typeRK9meta_type12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable8erase_ifERK4PredRK8key_typeRK9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::erase_if__PredCR.key_typeCR.meta_typeCR.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a6725bedc9020f1db8729a432cd1cedbc"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">erase_if</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable4PredE" title="nv::merlin::HashTable::Pred"><span class="pre">Pred</span></a> <span class="pre">&amp;</span><em><span class="pre">pred</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">&amp;</span><em><span class="pre">pattern</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">&amp;</span><em><span class="pre">threshold</span></em>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable8erase_ifERK4PredRK8key_typeRK9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Erases all elements that satisfy the predicate <code class="docutils literal notranslate"><span class="pre">pred</span></code> from the hash table. </p>
<p>The value for <code class="docutils literal notranslate"><span class="pre">pred</span></code> should be a function with type <code class="docutils literal notranslate"><span class="pre">Pred</span></code> defined like the following example:</p>
<p><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">K</span><span class="p">,</span> <span class="k">class</span> <span class="nc">M</span><span class="o">&gt;</span>
<span class="n">__forceinline__</span> <span class="n">__device__</span> <span class="nb">bool</span> <span class="n">erase_if_pred</span><span class="p">(</span><span class="n">const</span> <span class="n">K</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span>
                                              <span class="n">const</span> <span class="n">M</span><span class="o">&amp;</span> <span class="n">meta</span><span class="p">,</span>
                                              <span class="n">const</span> <span class="n">K</span><span class="o">&amp;</span> <span class="n">pattern</span><span class="p">,</span>
                                              <span class="n">const</span> <span class="n">M</span><span class="o">&amp;</span> <span class="n">threshold</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">((</span><span class="n">key</span> <span class="o">&amp;</span> <span class="mh">0x1</span> <span class="o">==</span> <span class="n">pattern</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">meta</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> – The predicate function with type Pred that returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the element should be erased. </p></li>
<li><p><strong>pattern</strong> – The third user-defined argument to <code class="docutils literal notranslate"><span class="pre">pred</span></code> with key_type type. </p></li>
<li><p><strong>threshold</strong> – The fourth user-defined argument to <code class="docutils literal notranslate"><span class="pre">pred</span></code> with meta_type type. </p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of elements removed. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable5clearE12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable5clearE12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable5clearE12cudaStream_t"></span><span id="nv::merlin::HashTable::clear__cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a013a4b76fc7664d60be667b024099c5d"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">clear</span></code><span class="sig-paren">(</span><span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable5clearE12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Removes all of the elements in the hash table with no release object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable12export_batchE9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable12export_batchE9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable12export_batchE9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::export_batch__size_type.size_typeC.size_typeP.key_typeP.value_typeP.meta_typeP.cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1ac439c5147dc7d0baedeeaab256c5939a"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">export_batch</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">offset</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <span class="pre">*</span><em><span class="pre">counter</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable12export_batchE9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Exports a certain number of the key-value-meta tuples from the hash table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The maximum number of exported pairs. </p></li>
<li><p><strong>offset</strong> – The position of the key to remove. </p></li>
<li><p><strong>counter</strong> – Accumulates amount of successfully exported values. </p></li>
<li><p><strong>keys</strong> – The keys to dump from GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to dump from GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to search on GPU-accessible memory with shape (n). <p>If <code class="docutils literal notranslate"><span class="pre">metas</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, the meta for each key will not be returned. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
</ul>
</dd>
<dt class="field-even">Throws</dt>
<dd class="field-even"><p><strong>CudaException</strong> – If the key-value size is too large for GPU shared memory. Reducing the value for <code class="docutils literal notranslate"><span class="pre">n</span></code> is currently required if this exception occurs. </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of elements dumped.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable12export_batchEK9size_typeK9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable12export_batchEK9size_typeK9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable12export_batchEK9size_typeK9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::export_batch__size_typeC.size_typeC.key_typeP.value_typeP.meta_typeP.cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a9a2cc279ea91949995c1bf19fde7f31e"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">export_batch</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">offset</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable12export_batchEK9size_typeK9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable15export_batch_ifER4PredRK8key_typeRK9meta_type9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable15export_batch_ifER4PredRK8key_typeRK9meta_type9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable15export_batch_ifER4PredRK8key_typeRK9meta_type9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t"></span><span id="nv::merlin::HashTable::export_batch_if__PredR.key_typeCR.meta_typeCR.size_type.size_typeC.size_typeP.key_typeP.value_typeP.meta_typeP.cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a0c5abfba2bb1cd284b4d5919a9705f63"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">export_batch_if</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable4PredE" title="nv::merlin::HashTable::Pred"><span class="pre">Pred</span></a> <span class="pre">&amp;</span><em><span class="pre">pred</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">&amp;</span><em><span class="pre">pattern</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">&amp;</span><em><span class="pre">threshold</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">n</span></em>, <em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">offset</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <span class="pre">*</span><em><span class="pre">d_counter</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable8key_typeE" title="nv::merlin::HashTable::key_type"><span class="pre">key_type</span></a> <span class="pre">*</span><em><span class="pre">keys</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable10value_typeE" title="nv::merlin::HashTable::value_type"><span class="pre">value_type</span></a> <span class="pre">*</span><em><span class="pre">values</span></em>, <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9meta_typeE" title="nv::merlin::HashTable::meta_type"><span class="pre">meta_type</span></a> <span class="pre">*</span><em><span class="pre">metas</span></em> <span class="pre">=</span> <span class="pre">nullptr</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable15export_batch_ifER4PredRK8key_typeRK9meta_type9size_typeK9size_typeP9size_typeP8key_typeP10value_typeP9meta_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Exports a certain number of the key-value-meta tuples which match specified condition from the hash table. </p>
<p><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">K</span><span class="p">,</span> <span class="k">class</span> <span class="nc">M</span><span class="o">&gt;</span>
<span class="n">__forceinline__</span> <span class="n">__device__</span> <span class="nb">bool</span> <span class="n">export_if_pred</span><span class="p">(</span><span class="n">const</span> <span class="n">K</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span>
                                               <span class="n">M</span><span class="o">&amp;</span> <span class="n">meta</span><span class="p">,</span>
                                               <span class="n">const</span> <span class="n">K</span><span class="o">&amp;</span> <span class="n">pattern</span><span class="p">,</span>
                                               <span class="n">const</span> <span class="n">M</span><span class="o">&amp;</span> <span class="n">threshold</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">return</span> <span class="n">meta</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – The maximum number of exported pairs. The value for <code class="docutils literal notranslate"><span class="pre">pred</span></code> should be a function with type <code class="docutils literal notranslate"><span class="pre">Pred</span></code> defined like the following example:</p></li>
<li><p><strong>pred</strong> – The predicate function with type Pred that returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the element should be exported. </p></li>
<li><p><strong>pattern</strong> – The third user-defined argument to <code class="docutils literal notranslate"><span class="pre">pred</span></code> with key_type type. </p></li>
<li><p><strong>threshold</strong> – The fourth user-defined argument to <code class="docutils literal notranslate"><span class="pre">pred</span></code> with meta_type type. </p></li>
<li><p><strong>offset</strong> – The position of the key to remove. </p></li>
<li><p><strong>keys</strong> – The keys to dump from GPU-accessible memory with shape (n). </p></li>
<li><p><strong>values</strong> – The values to dump from GPU-accessible memory with shape (n, DIM). </p></li>
<li><p><strong>metas</strong> – The metas to search on GPU-accessible memory with shape (n). <p>If <code class="docutils literal notranslate"><span class="pre">metas</span></code> is <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, the meta for each key will not be returned. </p>
</p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p></li>
</ul>
</dd>
<dt class="field-even">Throws</dt>
<dd class="field-even"><p><strong>CudaException</strong> – If the key-value size is too large for GPU shared memory. Reducing the value for <code class="docutils literal notranslate"><span class="pre">n</span></code> is currently required if this exception occurs. </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of elements dumped.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable5emptyE12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable5emptyE12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable5emptyE12cudaStream_t"></span><span id="nv::merlin::HashTable::empty__cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1afb9583da41ade8c3c77ef88ab502b76b"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">bool</span> <code class="sig-name descname"><span class="pre">empty</span></code><span class="sig-paren">(</span><span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable5emptyE12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Indicates if the hash table has no elements. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the table is empty and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable4sizeE12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable4sizeE12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable4sizeE12cudaStream_t"></span><span id="nv::merlin::HashTable::size__cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a557d0f008f5f14a7f11eb9ae8faa6516"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">size</span></code><span class="sig-paren">(</span><span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable4sizeE12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the hash table size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The table size. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable8capacityEv">
<span id="_CPPv3NK2nv6merlin9HashTable8capacityEv"></span><span id="_CPPv2NK2nv6merlin9HashTable8capacityEv"></span><span id="nv::merlin::HashTable::capacityC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a1e73744059b0c8ad7fb7253d21bddfe2"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">capacity</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable8capacityEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the hash table capacity. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The value that is returned might be less than the actual capacity of the hash table because the hash table currently keeps the capacity to be a power of 2 for performance considerations.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The table capacity. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable7reserveEK9size_type12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable7reserveEK9size_type12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable7reserveEK9size_type12cudaStream_t"></span><span id="nv::merlin::HashTable::reserve__size_typeC.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1aa620bf9b22edbbe68447d5db46045870"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">reserve</span></code><span class="sig-paren">(</span><em class="property"><span class="pre">const</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">new_capacity</span></em>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable7reserveEK9size_type12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the number of buckets to the number that is needed to accommodate at least <code class="docutils literal notranslate"><span class="pre">new_capacity</span></code> elements without exceeding the maximum load factor. This method rehashes the hash table. Rehashing puts the elements into the appropriate buckets considering that total number of buckets has changed. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the value of <code class="docutils literal notranslate"><span class="pre">new_capacity</span></code> or double of <code class="docutils literal notranslate"><span class="pre">new_capacity</span></code> is greater or equal than <code class="docutils literal notranslate"><span class="pre">options_.max_capacity</span></code>, the reserve does not perform any change to the hash table.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_capacity</strong> – The requested capacity for the hash table. </p></li>
<li><p><strong>stream</strong> – The CUDA stream that is used to execute the operation. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable11load_factorE12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable11load_factorE12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable11load_factorE12cudaStream_t"></span><span id="nv::merlin::HashTable::load_factor__cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1ad74d33ab86a79b2d648f721683c75f1e"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">float</span> <code class="sig-name descname"><span class="pre">load_factor</span></code><span class="sig-paren">(</span><span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable11load_factorE12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the average number of elements per slot, that is, <a class="reference internal" href="#classnv_1_1merlin_1_1HashTable_1a557d0f008f5f14a7f11eb9ae8faa6516"><span class="std std-ref">size()</span></a> divided by <a class="reference internal" href="#classnv_1_1merlin_1_1HashTable_1a1e73744059b0c8ad7fb7253d21bddfe2"><span class="std std-ref">capacity()</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stream</strong> – The CUDA stream that is used to execute the operation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The load factor </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable16set_max_capacityE9size_type">
<span id="_CPPv3N2nv6merlin9HashTable16set_max_capacityE9size_type"></span><span id="_CPPv2N2nv6merlin9HashTable16set_max_capacityE9size_type"></span><span id="nv::merlin::HashTable::set_max_capacity__size_type"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1aa40c47f7b558db0619c466a76b74c703"></span><em class="property"><span class="pre">inline</span></em> <span class="pre">void</span> <code class="sig-name descname"><span class="pre">set_max_capacity</span></code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <em><span class="pre">new_max_capacity</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable16set_max_capacityE9size_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set max_capacity of the table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_max_capacity</strong> – The new expecting max_capacity. It must be power of 2. Otherwise it will raise an error. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable3dimEv">
<span id="_CPPv3NK2nv6merlin9HashTable3dimEv"></span><span id="_CPPv2NK2nv6merlin9HashTable3dimEv"></span><span id="nv::merlin::HashTable::dimC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1afed451a4c4567d9426fe7cf00594f8a2"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">dim</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable3dimEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the dimension of the vectors. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The dimension of the vectors. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable15max_bucket_sizeEv">
<span id="_CPPv3NK2nv6merlin9HashTable15max_bucket_sizeEv"></span><span id="_CPPv2NK2nv6merlin9HashTable15max_bucket_sizeEv"></span><span id="nv::merlin::HashTable::max_bucket_sizeC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1abeb590d33fc63e87e744dc45699bb129"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">max_bucket_size</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable15max_bucket_sizeEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns The length of each bucket. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The length of each bucket. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable12bucket_countEv">
<span id="_CPPv3NK2nv6merlin9HashTable12bucket_countEv"></span><span id="_CPPv2NK2nv6merlin9HashTable12bucket_countEv"></span><span id="nv::merlin::HashTable::bucket_countC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a6ee1d8d528d8a9409832e0eb78db2fb9"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">bucket_count</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em> <em class="property"><span class="pre">noexcept</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable12bucket_countEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the number of buckets in the table. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of buckets in the table. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK2nv6merlin9HashTable4saveEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t">
<span id="_CPPv3NK2nv6merlin9HashTable4saveEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t"></span><span id="_CPPv2NK2nv6merlin9HashTable4saveEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t"></span><span id="nv::merlin::HashTable::save__BaseKVFile:K.V.M:P.sC.cudaStream_tC"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a51fa5c8caeceeeebc062481442fa94f0"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><span class="pre">BaseKVFile</span><span class="pre">&lt;</span><a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::K"><span class="pre">K</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::V"><span class="pre">V</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::M"><span class="pre">M</span></a><span class="pre">&gt;</span> <span class="pre">*</span><em><span class="pre">file</span></em>, <em class="property"><span class="pre">const</span></em> <span class="pre">size_t</span> <em><span class="pre">max_workspace_size</span></em> <span class="pre">=</span> <span class="pre">1L</span> <span class="pre">*</span> <span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span> <em class="property"><span class="pre">const</span></em><a class="headerlink" href="#_CPPv4NK2nv6merlin9HashTable4saveEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Save keys, vectors, metas in table to file or files. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – A BaseKVFile object defined the file format on host filesystem. </p></li>
<li><p><strong>max_workspace_size</strong> – Saving is conducted in chunks. This value denotes the maximum amount of temporary memory to use when dumping the table. Larger values <em>can</em> lead to higher performance. </p></li>
<li><p><strong>stream</strong> – The CUDA stream used to execute the operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of KV pairs saved to file. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N2nv6merlin9HashTable4loadEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t">
<span id="_CPPv3N2nv6merlin9HashTable4loadEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t"></span><span id="_CPPv2N2nv6merlin9HashTable4loadEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t"></span><span id="nv::merlin::HashTable::load__BaseKVFile:K.V.M:P.sC.cudaStream_t"></span><span class="target" id="classnv_1_1merlin_1_1HashTable_1a36861150d22750ad98df74a13e461c99"></span><em class="property"><span class="pre">inline</span></em> <a class="reference internal" href="#_CPPv4N2nv6merlin9HashTable9size_typeE" title="nv::merlin::HashTable::size_type"><span class="pre">size_type</span></a> <code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="pre">BaseKVFile</span><span class="pre">&lt;</span><a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::K"><span class="pre">K</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::V"><span class="pre">V</span></a><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I000EN2nv6merlin9HashTableE" title="nv::merlin::HashTable::M"><span class="pre">M</span></a><span class="pre">&gt;</span> <span class="pre">*</span><em><span class="pre">file</span></em>, <em class="property"><span class="pre">const</span></em> <span class="pre">size_t</span> <em><span class="pre">max_workspace_size</span></em> <span class="pre">=</span> <span class="pre">1L</span> <span class="pre">*</span> <span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span>, <span class="pre">cudaStream_t</span> <em><span class="pre">stream</span></em> <span class="pre">=</span> <span class="pre">0</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N2nv6merlin9HashTable4loadEP10BaseKVFileI1K1V1MEK6size_t12cudaStream_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Load keys, vectors, metas from file to table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – An BaseKVFile defined the file format within filesystem. </p></li>
<li><p><strong>max_workspace_size</strong> – Loading is conducted in chunks. This value denotes the maximum size of such chunks. Larger values <em>can</em> lead to higher performance. </p></li>
<li><p><strong>stream</strong> – The CUDA stream used to execute the operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of keys loaded from file. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="structnv_1_1merlin_1_1HashTableOptions.html" class="btn btn-neutral float-left" title="Struct HashTableOptions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="enum_merlin__hashtable_8cuh_1a8c9f1dcaae52c7049c17f0999ad62015.html" class="btn btn-neutral float-right" title="Enum EvictStrategy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, NVIDIA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v0.1.0-beta.1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="classnv_1_1merlin_1_1HashTable.html">v0.1.0-beta.1</a></dd>
      <dd><a href="../../v0.1.0-beta.2/index.html">v0.1.0-beta.2</a></dd>
      <dd><a href="../../v0.1.0-beta.3/index.html">v0.1.0-beta.3</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../master/index.html">master</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NVJ1Y1YJHK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-NVJ1Y1YJHK', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>